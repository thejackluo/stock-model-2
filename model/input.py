"""
DOCUMENTATION: input.py

Input: An array of ALL tickers we want to test
Output: An array of stock objects 

STOCK Object:
    - ticker
    - stock_name
    - EPS_2023
    - EPS_growth (list of 10 year EPS growth)

FUNCTION
Our goal is to go through an API and get all the data and produce
"""

"""
DOCUMENTATION ⬆️
All the methods will use the following instance of the general class:

from quickfs import QuickFS
import os

# load the key from the enviroment variables
api_key = os.environ['API_QUICKFS']
# client instance
client = QuickFS(api_key)
Companies ⬆️
get_api_metadata: Returns the available countries and exchanges where to get data.
arguments:* None
usage:
# get the metadata for the countries and exchanges.
client.get_api_metadata()
get_supported_companies: Returns a list of ticker symbols supported by QuickFS. You need to specify a country code (US, CA, MM, AU, NZ, MN, or LN). It is recommendable to use the get_api_metadata to get the references for each argument.
arguments:
country(str): quickfs code of the country to request data.
exchange(str): quickfs code of the exchange to request data.
usage:
# get the companies for the NYSE exchange
NYSE = client.get_supported_companies(country='US', exchange='NYSE')
# get the companies for the LSE
LSE = client.get_supported_companies(country='LN', exchange='LONDON')
# get the companies from Australia
ASX = resp = client.get_supported_companies(country='AU', exchange='ASX')
get_updated_companies: Returns a list of ticker symbols that were updated with new financial data on or after the specified date (formatted as YYYYMMDD). You need to specify a country code (US, CA, MM, AU, NZ, MN, or LN).
arguments:
country(str): quickfs code of the country to request data.
date(str): specific date to request data, it should be written in the following format YYYYMMDD. Please be aware that may be a delay in the company update and the actual update in the quickfs database.
usage
# get the updated companies from New Zeland
client.get_updated_companies(country='NZ', date='20210420')
Metrics ⬆️
get_available_metrics: Returns a list of available metrics with the associated metadata.
arguments: None
usage:
# get the supported metrics by quickfs
client.get_available_metrics()
Datapoints ⬆️
It is highly recommendable to use the country identifier code for non-U.S. stocks. If you do not specify a country, the API will first try to match a U.S.-listed symbol and, if none is found, will then match with a non-U.S. company with the same symbol. The order of the returned data is from oldest to more recent data.

Additionally, the period or period range to query should have the following structure period or from:to respectively. For example, revenue is reported quarterly and annually, as determined by a company's fiscal calendar. FY-9:FY represents the last 10 years of annual revenue figures. Similarly, the last 20 quarters of reported quarterly revenue is characterised by the periods FQ-19:FQ.

get_data_range: Returns range of data points for a single company metric.
arguments:
symbol(str): company symbol. for example: AAPL:US
metric(str): QuickFS metric name.
usage:
# get the shares outstanding (shares that have been authorized, issued, and purchased by investors and are held by them).
client.get_data_range(symbol='AAPL:US', metric='shares_eop', period='FQ-15:FQ')
get_data_full: Pull metadata and all financial statements (annual and quarterly) for all periods for a single stock in one API call.
arguments:
symbol(str): company symbol. for example: AAPL:US
usage:
# get the full data for finnCap Group plc
client.get_data_full(symbol='FCAP:LN')
get_data_batch: Batch request for several companies retrieving multiple metrics.
arguments:
companies(List[str]): List of companies to query.
metrics(List[str]): List of metrics to query.
period(str): Period or period range to query.
usage:
# Get the last 3 years of ROA and ROIC for Cocacola and Pepsi
client.get_data_batch(companies=['KO:US', 'PEP:US'], metrics=['roa', 'roic'], period="FY-2:FY")
Some companies do not have data for a specific metric (This is rare and usually happens for companies with recent IPO's). If this situation happens, you will receive a None as a response from the API. For those cases, I recommend the following code:

# Call all the companies from the NYSE exchange
nyse = client.get_supported_companies(country='US', exchange='NYSE')
# Create a batch request for the selected metrics. The last 4th quarters of data
resp = client.get_data_batch(nyse, 
					metrics=['gross_margin', 'roa', 'enterprise_value'], 
                    period="FQ-3:FQ")
# Assume you have a None response, i.e., some companies will not have data for the requested metric.

# Check the status of the call
print(client.resp) # If it says 207, you have content to use.

print(client.resp._content) # check the error

import json
# filter and extract for the companies that you have data
special_ = json.loads(client.resp._content.decode('utf-8'))['data']
# transform it to a pandas dataframe (if you want it)
import pandas as pd
special_ = pd.DataFrame(special_)
Usage history ⬆️
get_usage: Returns your current API usage and limits.
arguments: None
usage:
client.get_usage()

STOCK OBJECT
class Stock:
    # subjective parameters (ordered by priority)
    margin_of_safety = 0.25  # this should be experimented with
    max_dampener = 0.8  # this should be experimented with
    sell_rate = 0.15
    max_EPS_growth = 0.60  # this should be experimented with, but less priority
    target_rate = 0.18  # Define target_rate as a class attribute

    # Attributes
    def __init__(self, stock_name, ticker, EPS_2023, EPS_growth, PE, current_price):
        self.stock_name = stock_name
        self.ticker = ticker
        self.EPS_2023 = EPS_2023
        self.EPS_growth = EPS_growth
        self.PE = PE
        self.avg_PE = self.get_average_PE()
        self.current_price = current_price
        self.dampener = self.determine_dampener()

METRICS
[{'metric': 'revenue', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cogs', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'gross_profit', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'sga', 'statement_type': 'income_statement', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'rnd', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'special_charges', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_opex', 'statement_type': 'income_statement', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_opex', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'operating_income', 'statement_type': 'income_statement', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_interest_income_normal', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_nonoperating_income', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'pretax_income', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'income_tax', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_income_continuing', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'interest_income', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'interest_expense', 'statement_type': 'income_statement', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_income_discontinued', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'income_allocated_to_minority_interest', 'statement_type': 'income_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_income_statement_items', 'statement_type': 'income_statement', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_income', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'preferred_dividends', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_income_available_to_shareholders', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'eps_basic', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'eps_diluted', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'shares_basic', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'shares_diluted', 'statement_type': 'income_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cash_and_equiv', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'st_investments', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'receivables', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'inventories', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_current_assets', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_current_assets', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'equity_and_other_investments', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ppe_gross', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'accumulated_depreciation', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ppe_net', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'intangible_assets', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'goodwill', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_lt_assets', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_assets', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'accounts_payable', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'tax_payable', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'current_accrued_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'st_debt', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'current_deferred_revenue', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'current_deferred_tax_liability', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_current_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_current_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'lt_debt', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'noncurrent_capital_leases', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'pension_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'noncurrent_deferred_revenue', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_lt_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'common_stock', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'preferred_stock', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'retained_earnings', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'aoci', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'apic', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'treasury_stock', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'other_equity', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'minority_interest_liability', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_equity', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_liabilities_and_equity', 'statement_type': 'balance_sheet', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'long_term_debt_and_capital_lease_obligation', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_net_income', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_da', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_receivables', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_inventory', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_prepaid_expenses', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_other_working_capital', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_change_in_working_capital', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_deferred_tax', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_stock_comp', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_other_noncash_items', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cf_cfo', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_ppe_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_acquisitions_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_investment_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_intangibles_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_other', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cf_cfi', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_common_stock_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_pfd_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_debt_net', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_dividend_paid', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_other', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cf_cff', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cf_forex', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cf_net_change_in_cash', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'capex', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ebitda', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'fcf', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'book_value', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'tangible_book_value', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roa', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roe', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roic', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roce', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'rotce', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'gross_margin', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ebitda_margin', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'operating_margin', 'statement_type': 'computed', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'pretax_margin', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_income_margin', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'fcf_margin', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'assets_to_equity', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'equity_to_assets', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'debt_to_equity', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'debt_to_assets', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'revenue_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ebitda_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'operating_income_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'pretax_income_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'fcf_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'book_value_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'tangible_book_per_share', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'market_cap', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'price_to_earnings', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'price_to_book', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'price_to_tangible_book', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'price_to_sales', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'price_to_fcf', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'price_to_pretax_income', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value_to_earnings', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value_to_book', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value_to_tangible_book', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value_to_sales', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value_to_fcf', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'enterprise_value_to_pretax_income', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'revenue_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'gross_profit_growth', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ebitda_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'operating_income_growth', 'statement_type': 'computed', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'pretax_income_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_income_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'eps_diluted_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'shares_diluted_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cash_and_equiv_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'ppe_growth', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_assets_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_equity_growth', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfo_growth', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'capex_growth', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'fcf_growth', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'revenue_cagr_10', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'eps_diluted_cagr_10', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_assets_cagr_10', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_equity_cagr_10', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'fcf_cagr_10', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'payout_ratio', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'shares_eop', 'statement_type': 'misc', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'dividends', 'statement_type': 'misc', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'period_end_price', 'statement_type': 'misc', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'gross_margin_median', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': []}, {'metric': 'pretax_margin_median', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'operating_income_margin_median', 'statement_type': 'computed', 'company_types': ['normal', 'insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'fcf_margin_median', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': []}, {'metric': 'roa_median', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'roe_median', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'roic_median', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': []}, {'metric': 'assets_to_equity_median', 'statement_type': 'computed', 'company_types': ['normal', 'bank', 'insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'debt_to_assets_median', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': []}, {'metric': 'debt_to_equity_median', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': []}, {'metric': 'total_interest_income', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_interest_expense', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_interest_income', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_noninterest_revenue', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'credit_losses_provision', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_interest_income_after_credit_losses_provision', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_noninterest_expense', 'statement_type': 'income_statement', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loans_gross', 'statement_type': 'balance_sheet', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'allowance_for_loan_losses', 'statement_type': 'balance_sheet', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loans_net', 'statement_type': 'balance_sheet', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_investments', 'statement_type': 'balance_sheet', 'company_types': ['bank', 'insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'deposits_liability', 'statement_type': 'balance_sheet', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'earning_assets', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_interest_margin', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'earning_assets_to_equity', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loans_to_deposits', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loan_loss_reserve_to_loans', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_interest_income_growth', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loans_gross_growth', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loans_net_growth', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'deposits_growth', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'earning_assets_growth', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_interest_income_cagr_10', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'loans_gross_cagr_10', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'earning_assets_cagr_10', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'deposits_cagr_10', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'nim_median', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': []}, {'metric': 'earning_assets_to_equity_median', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': []}, {'metric': 'equity_to_assets_median', 'statement_type': 'computed', 'company_types': ['bank', 'insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'loans_to_deposits_median', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': []}, {'metric': 'loan_loss_reserve_to_loans_median', 'statement_type': 'computed', 'company_types': ['bank'], 'data_type': 'number', 'periods': []}, {'metric': 'premiums_earned', 'statement_type': 'income_statement', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_investment_income', 'statement_type': 'income_statement', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'fees_and_other_income', 'statement_type': 'income_statement', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_policyholder_claims_expense', 'statement_type': 'income_statement', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'policy_acquisition_expense', 'statement_type': 'income_statement', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'interest_expense_insurance', 'statement_type': 'income_statement', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'deferred_policy_acquisition_cost', 'statement_type': 'balance_sheet', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'unearned_premiums', 'statement_type': 'balance_sheet', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'future_policy_benefits', 'statement_type': 'balance_sheet', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'policy_revenue', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'underwriting_profit', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roi', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'underwriting_margin', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'premiums_per_share', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'premiums_growth', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'policy_revenue_growth', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_investments_growth', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'premiums_cagr_10', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_investments_cagr_10', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roi_median', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'underwriting_margin_median', 'statement_type': 'computed', 'company_types': ['insurance'], 'data_type': 'number', 'periods': []}, {'metric': 'period_end_date', 'statement_type': 'misc', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'string', 'periods': ['FY', 'FQ']}, {'metric': 'original_filing_date', 'statement_type': 'misc', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'string', 'periods': ['FY', 'FQ']}, {'metric': 'restated_filing_date', 'statement_type': 'misc', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'string', 'periods': ['FY', 'FQ']}, {'metric': 'da_income_statement_supplemental', 'statement_type': 'income_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'current_capital_leases', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_noncurrent_assets', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'total_noncurrent_liabilities', 'statement_type': 'balance_sheet', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_ppe_purchases', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_ppe_sales', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_acquisitions', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_divestitures', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_investment_purchases', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cfi_investment_sales', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_common_stock_issued', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_common_stock_repurchased', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_pfd_issued', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_pfd_repurchased', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_debt_issued', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cff_debt_repaid', 'statement_type': 'cash_flow_statement', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'income_tax_rate', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'nopat', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roic_legacy', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'dividends_per_share_growth', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {e': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'cf_cfo_cagr_10', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'current_ratio', 'statement_type': 'computed', 'company_types': ['normal'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'peg_ratio', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'shares_eop_change', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'net_debt', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'preliminary', 'statement_type': 'misc', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}, {'metric': 'roic_5yr_avg', 'statement_type': 'computed', 'company_types': ['normal', 'insurance', 'bank'], 'data_type': 'number', 'periods': []}, {'metric': 'unearned_income', 'statement_type': 'balance_sheet', 'company_types': ['bank'], 'data_type': 'number', 'periods': ['FY', 'FQ']}]
"""

from dotenv import load_dotenv
from quickfs import QuickFS
from all_stocks import all_stocks
from obj.stock import Stock
import os

# S0: Input (US indexes Russel 1000 + 2000 V2) (S&P 500 V1)

# print the first 3 stock in the all stock list as testing purposes
print("INPUT TEST REPORT")
print("S0:", all_stocks[1], all_stocks[5], all_stocks[11]) # AAPL, GOOGL, TSLA

# S1: API Key and set up
load_dotenv()  # take environment variables from .env.

api_key = os.getenv('QUICKFS_API_KEY')

if api_key:
    print("S1: API Key Success")
else:
    print("S1: Environment variable not found.")

client = QuickFS(api_key)
print("S1: Client Success, current usage:", client.get_usage())
# print("S1: Metrics:", client.get_available_metrics())

# S2: For stock 1, 5, and 11 based on indice, import the stock object (attributes above) and initialize some data points based on the output using API calls, then print out the stock object for testing (all 3)


# Stock 1: AAPL
AAPL = client.get_data_full(symbol='AAPL:US') 




